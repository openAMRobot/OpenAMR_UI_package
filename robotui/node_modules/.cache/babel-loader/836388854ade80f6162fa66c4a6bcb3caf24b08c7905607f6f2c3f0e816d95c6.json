{"ast":null,"code":"import _classCallCheck from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport TempNode from '../core/TempNode.js';\nimport { positionWorldDirection } from '../accessors/PositionNode.js';\nimport { nodeProxy, vec2 } from '../shadernode/ShaderNode.js';\nimport { addNodeClass } from '../core/Node.js';\nvar EquirectUVNode = /*#__PURE__*/function (_TempNode) {\n  _inherits(EquirectUVNode, _TempNode);\n  var _super = _createSuper(EquirectUVNode);\n  function EquirectUVNode() {\n    var _this;\n    var dirNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : positionWorldDirection;\n    _classCallCheck(this, EquirectUVNode);\n    _this = _super.call(this, 'vec2');\n    _this.dirNode = dirNode;\n    return _this;\n  }\n  _createClass(EquirectUVNode, [{\n    key: \"setup\",\n    value: function setup() {\n      var dir = this.dirNode;\n      var u = dir.z.atan2(dir.x).mul(1 / (Math.PI * 2)).add(0.5);\n      var v = dir.y.negate().clamp(-1.0, 1.0).asin().mul(1 / Math.PI).add(0.5); // @TODO: The use of negate() here could be an NDC issue.\n\n      return vec2(u, v);\n    }\n  }]);\n  return EquirectUVNode;\n}(TempNode);\nexport default EquirectUVNode;\nexport var equirectUV = nodeProxy(EquirectUVNode);\naddNodeClass('EquirectUVNode', EquirectUVNode);","map":{"version":3,"names":["TempNode","positionWorldDirection","nodeProxy","vec2","addNodeClass","EquirectUVNode","_TempNode","_inherits","_super","_createSuper","_this","dirNode","arguments","length","undefined","_classCallCheck","call","_createClass","key","value","setup","dir","u","z","atan2","x","mul","Math","PI","add","v","y","negate","clamp","asin","equirectUV"],"sources":["/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/three/examples/jsm/nodes/utils/EquirectUVNode.js"],"sourcesContent":["import TempNode from '../core/TempNode.js';\nimport { positionWorldDirection } from '../accessors/PositionNode.js';\nimport { nodeProxy, vec2 } from '../shadernode/ShaderNode.js';\nimport { addNodeClass } from '../core/Node.js';\n\nclass EquirectUVNode extends TempNode {\n\n\tconstructor( dirNode = positionWorldDirection ) {\n\n\t\tsuper( 'vec2' );\n\n\t\tthis.dirNode = dirNode;\n\n\t}\n\n\tsetup() {\n\n\t\tconst dir = this.dirNode;\n\n\t\tconst u = dir.z.atan2( dir.x ).mul( 1 / ( Math.PI * 2 ) ).add( 0.5 );\n\t\tconst v = dir.y.negate().clamp( - 1.0, 1.0 ).asin().mul( 1 / Math.PI ).add( 0.5 ); // @TODO: The use of negate() here could be an NDC issue.\n\n\t\treturn vec2( u, v );\n\n\t}\n\n}\n\nexport default EquirectUVNode;\n\nexport const equirectUV = nodeProxy( EquirectUVNode );\n\naddNodeClass( 'EquirectUVNode', EquirectUVNode );\n"],"mappings":";;;;AAAA,OAAOA,QAAQ,MAAM,qBAAqB;AAC1C,SAASC,sBAAsB,QAAQ,8BAA8B;AACrE,SAASC,SAAS,EAAEC,IAAI,QAAQ,6BAA6B;AAC7D,SAASC,YAAY,QAAQ,iBAAiB;AAAC,IAEzCC,cAAc,0BAAAC,SAAA;EAAAC,SAAA,CAAAF,cAAA,EAAAC,SAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,cAAA;EAEnB,SAAAA,eAAA,EAAgD;IAAA,IAAAK,KAAA;IAAA,IAAnCC,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGX,sBAAsB;IAAAc,eAAA,OAAAV,cAAA;IAE5CK,KAAA,GAAAF,MAAA,CAAAQ,IAAA,OAAO,MAAM;IAEbN,KAAA,CAAKC,OAAO,GAAGA,OAAO;IAAC,OAAAD,KAAA;EAExB;EAACO,YAAA,CAAAZ,cAAA;IAAAa,GAAA;IAAAC,KAAA,EAED,SAAAC,MAAA,EAAQ;MAEP,IAAMC,GAAG,GAAG,IAAI,CAACV,OAAO;MAExB,IAAMW,CAAC,GAAGD,GAAG,CAACE,CAAC,CAACC,KAAK,CAAEH,GAAG,CAACI,CAAE,CAAC,CAACC,GAAG,CAAE,CAAC,IAAKC,IAAI,CAACC,EAAE,GAAG,CAAC,CAAG,CAAC,CAACC,GAAG,CAAE,GAAI,CAAC;MACpE,IAAMC,CAAC,GAAGT,GAAG,CAACU,CAAC,CAACC,MAAM,CAAC,CAAC,CAACC,KAAK,CAAE,CAAE,GAAG,EAAE,GAAI,CAAC,CAACC,IAAI,CAAC,CAAC,CAACR,GAAG,CAAE,CAAC,GAAGC,IAAI,CAACC,EAAG,CAAC,CAACC,GAAG,CAAE,GAAI,CAAC,CAAC,CAAC;;MAEnF,OAAO1B,IAAI,CAAEmB,CAAC,EAAEQ,CAAE,CAAC;IAEpB;EAAC;EAAA,OAAAzB,cAAA;AAAA,EAnB2BL,QAAQ;AAuBrC,eAAeK,cAAc;AAE7B,OAAO,IAAM8B,UAAU,GAAGjC,SAAS,CAAEG,cAAe,CAAC;AAErDD,YAAY,CAAE,gBAAgB,EAAEC,cAAe,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}