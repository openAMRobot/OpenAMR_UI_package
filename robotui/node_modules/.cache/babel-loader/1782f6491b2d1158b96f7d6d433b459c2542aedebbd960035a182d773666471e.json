{"ast":null,"code":"import _defineProperty from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _classCallCheck from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _Methods;\nimport TempNode from '../core/TempNode.js';\nimport { mix } from '../math/MathNode.js';\nimport { addNodeClass } from '../core/Node.js';\nimport { addNodeElement, tslFn, nodeObject, nodeProxy, vec4 } from '../shadernode/ShaderNode.js';\nimport { LinearSRGBColorSpace, SRGBColorSpace } from 'three';\nvar sRGBToLinearShader = tslFn(function (inputs) {\n  var value = inputs.value;\n  var rgb = value.rgb;\n  var a = rgb.mul(0.9478672986).add(0.0521327014).pow(2.4);\n  var b = rgb.mul(0.0773993808);\n  var factor = rgb.lessThanEqual(0.04045);\n  var rgbResult = mix(a, b, factor);\n  return vec4(rgbResult, value.a);\n});\nvar LinearTosRGBShader = tslFn(function (inputs) {\n  var value = inputs.value;\n  var rgb = value.rgb;\n  var a = rgb.pow(0.41666).mul(1.055).sub(0.055);\n  var b = rgb.mul(12.92);\n  var factor = rgb.lessThanEqual(0.0031308);\n  var rgbResult = mix(a, b, factor);\n  return vec4(rgbResult, value.a);\n});\nvar getColorSpaceMethod = function getColorSpaceMethod(colorSpace) {\n  var method = null;\n  if (colorSpace === LinearSRGBColorSpace) {\n    method = 'Linear';\n  } else if (colorSpace === SRGBColorSpace) {\n    method = 'sRGB';\n  }\n  return method;\n};\nvar getMethod = function getMethod(source, target) {\n  return getColorSpaceMethod(source) + 'To' + getColorSpaceMethod(target);\n};\nvar ColorSpaceNode = /*#__PURE__*/function (_TempNode) {\n  _inherits(ColorSpaceNode, _TempNode);\n  var _super = _createSuper(ColorSpaceNode);\n  function ColorSpaceNode(method, node) {\n    var _this;\n    _classCallCheck(this, ColorSpaceNode);\n    _this = _super.call(this, 'vec4');\n    _this.method = method;\n    _this.node = node;\n    return _this;\n  }\n  _createClass(ColorSpaceNode, [{\n    key: \"setup\",\n    value: function setup() {\n      var method = this.method,\n        node = this.node;\n      if (method === ColorSpaceNode.LINEAR_TO_LINEAR) return node;\n      return Methods[method]({\n        value: node\n      });\n    }\n  }]);\n  return ColorSpaceNode;\n}(TempNode);\nColorSpaceNode.LINEAR_TO_LINEAR = 'LinearToLinear';\nColorSpaceNode.LINEAR_TO_sRGB = 'LinearTosRGB';\nColorSpaceNode.sRGB_TO_LINEAR = 'sRGBToLinear';\nvar Methods = (_Methods = {}, _defineProperty(_Methods, ColorSpaceNode.LINEAR_TO_sRGB, LinearTosRGBShader), _defineProperty(_Methods, ColorSpaceNode.sRGB_TO_LINEAR, sRGBToLinearShader), _Methods);\nexport default ColorSpaceNode;\nexport var linearToColorSpace = function linearToColorSpace(node, colorSpace) {\n  return nodeObject(new ColorSpaceNode(getMethod(LinearSRGBColorSpace, colorSpace), nodeObject(node)));\n};\nexport var colorSpaceToLinear = function colorSpaceToLinear(node, colorSpace) {\n  return nodeObject(new ColorSpaceNode(getMethod(colorSpace, LinearSRGBColorSpace), nodeObject(node)));\n};\nexport var linearTosRGB = nodeProxy(ColorSpaceNode, ColorSpaceNode.LINEAR_TO_sRGB);\nexport var sRGBToLinear = nodeProxy(ColorSpaceNode, ColorSpaceNode.sRGB_TO_LINEAR);\naddNodeElement('linearTosRGB', linearTosRGB);\naddNodeElement('sRGBToLinear', sRGBToLinear);\naddNodeElement('linearToColorSpace', linearToColorSpace);\naddNodeElement('colorSpaceToLinear', colorSpaceToLinear);\naddNodeClass('ColorSpaceNode', ColorSpaceNode);","map":{"version":3,"names":["TempNode","mix","addNodeClass","addNodeElement","tslFn","nodeObject","nodeProxy","vec4","LinearSRGBColorSpace","SRGBColorSpace","sRGBToLinearShader","inputs","value","rgb","a","mul","add","pow","b","factor","lessThanEqual","rgbResult","LinearTosRGBShader","sub","getColorSpaceMethod","colorSpace","method","getMethod","source","target","ColorSpaceNode","_TempNode","_inherits","_super","_createSuper","node","_this","_classCallCheck","call","_createClass","key","setup","LINEAR_TO_LINEAR","Methods","LINEAR_TO_sRGB","sRGB_TO_LINEAR","_Methods","_defineProperty","linearToColorSpace","colorSpaceToLinear","linearTosRGB","sRGBToLinear"],"sources":["/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/three/examples/jsm/nodes/display/ColorSpaceNode.js"],"sourcesContent":["import TempNode from '../core/TempNode.js';\nimport { mix } from '../math/MathNode.js';\nimport { addNodeClass } from '../core/Node.js';\nimport { addNodeElement, tslFn, nodeObject, nodeProxy, vec4 } from '../shadernode/ShaderNode.js';\n\nimport { LinearSRGBColorSpace, SRGBColorSpace } from 'three';\n\nconst sRGBToLinearShader = tslFn( ( inputs ) => {\n\n\tconst { value } = inputs;\n\tconst { rgb } = value;\n\n\tconst a = rgb.mul( 0.9478672986 ).add( 0.0521327014 ).pow( 2.4 );\n\tconst b = rgb.mul( 0.0773993808 );\n\tconst factor = rgb.lessThanEqual( 0.04045 );\n\n\tconst rgbResult = mix( a, b, factor );\n\n\treturn vec4( rgbResult, value.a );\n\n} );\n\nconst LinearTosRGBShader = tslFn( ( inputs ) => {\n\n\tconst { value } = inputs;\n\tconst { rgb } = value;\n\n\tconst a = rgb.pow( 0.41666 ).mul( 1.055 ).sub( 0.055 );\n\tconst b = rgb.mul( 12.92 );\n\tconst factor = rgb.lessThanEqual( 0.0031308 );\n\n\tconst rgbResult = mix( a, b, factor );\n\n\treturn vec4( rgbResult, value.a );\n\n} );\n\nconst getColorSpaceMethod = ( colorSpace ) => {\n\n\tlet method = null;\n\n\tif ( colorSpace === LinearSRGBColorSpace ) {\n\n\t\tmethod = 'Linear';\n\n\t} else if ( colorSpace === SRGBColorSpace ) {\n\n\t\tmethod = 'sRGB';\n\n\t}\n\n\treturn method;\n\n};\n\nconst getMethod = ( source, target ) => {\n\n\treturn getColorSpaceMethod( source ) + 'To' + getColorSpaceMethod( target );\n\n};\n\nclass ColorSpaceNode extends TempNode {\n\n\tconstructor( method, node ) {\n\n\t\tsuper( 'vec4' );\n\n\t\tthis.method = method;\n\t\tthis.node = node;\n\n\t}\n\n\tsetup() {\n\n\t\tconst { method, node } = this;\n\n\t\tif ( method === ColorSpaceNode.LINEAR_TO_LINEAR )\n\t\t\treturn node;\n\n\t\treturn Methods[ method ]( { value: node } );\n\n\t}\n\n}\n\nColorSpaceNode.LINEAR_TO_LINEAR = 'LinearToLinear';\nColorSpaceNode.LINEAR_TO_sRGB = 'LinearTosRGB';\nColorSpaceNode.sRGB_TO_LINEAR = 'sRGBToLinear';\n\nconst Methods = {\n\t[ ColorSpaceNode.LINEAR_TO_sRGB ]: LinearTosRGBShader,\n\t[ ColorSpaceNode.sRGB_TO_LINEAR ]: sRGBToLinearShader\n};\n\nexport default ColorSpaceNode;\n\nexport const linearToColorSpace = ( node, colorSpace ) => nodeObject( new ColorSpaceNode( getMethod( LinearSRGBColorSpace, colorSpace ), nodeObject( node ) ) );\nexport const colorSpaceToLinear = ( node, colorSpace ) => nodeObject( new ColorSpaceNode( getMethod( colorSpace, LinearSRGBColorSpace ), nodeObject( node ) ) );\n\nexport const linearTosRGB = nodeProxy( ColorSpaceNode, ColorSpaceNode.LINEAR_TO_sRGB );\nexport const sRGBToLinear = nodeProxy( ColorSpaceNode, ColorSpaceNode.sRGB_TO_LINEAR );\n\naddNodeElement( 'linearTosRGB', linearTosRGB );\naddNodeElement( 'sRGBToLinear', sRGBToLinear );\naddNodeElement( 'linearToColorSpace', linearToColorSpace );\naddNodeElement( 'colorSpaceToLinear', colorSpaceToLinear );\n\naddNodeClass( 'ColorSpaceNode', ColorSpaceNode );\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}