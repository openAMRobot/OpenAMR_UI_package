{"ast":null,"code":"import _classCallCheck from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _get from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport Object3DNode from './Object3DNode.js';\nimport { addNodeClass } from '../core/Node.js';\nimport { label } from '../core/ContextNode.js';\nimport { nodeImmutable } from '../shadernode/ShaderNode.js';\nvar CameraNode = /*#__PURE__*/function (_Object3DNode) {\n  _inherits(CameraNode, _Object3DNode);\n  var _super = _createSuper(CameraNode);\n  function CameraNode() {\n    var scope = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : CameraNode.POSITION;\n    _classCallCheck(this, CameraNode);\n    return _super.call(this, scope);\n  }\n  _createClass(CameraNode, [{\n    key: \"getNodeType\",\n    value: function getNodeType(builder) {\n      var scope = this.scope;\n      if (scope === CameraNode.PROJECTION_MATRIX) {\n        return 'mat4';\n      } else if (scope === CameraNode.NEAR || scope === CameraNode.FAR) {\n        return 'float';\n      }\n      return _get(_getPrototypeOf(CameraNode.prototype), \"getNodeType\", this).call(this, builder);\n    }\n  }, {\n    key: \"update\",\n    value: function update(frame) {\n      var camera = frame.camera;\n      var uniformNode = this._uniformNode;\n      var scope = this.scope;\n      if (scope === CameraNode.VIEW_MATRIX) {\n        uniformNode.value = camera.matrixWorldInverse;\n      } else if (scope === CameraNode.PROJECTION_MATRIX) {\n        uniformNode.value = camera.projectionMatrix;\n      } else if (scope === CameraNode.NEAR) {\n        uniformNode.value = camera.near;\n      } else if (scope === CameraNode.FAR) {\n        uniformNode.value = camera.far;\n      } else {\n        this.object3d = camera;\n        _get(_getPrototypeOf(CameraNode.prototype), \"update\", this).call(this, frame);\n      }\n    }\n  }, {\n    key: \"generate\",\n    value: function generate(builder) {\n      var scope = this.scope;\n      if (scope === CameraNode.PROJECTION_MATRIX) {\n        this._uniformNode.nodeType = 'mat4';\n      } else if (scope === CameraNode.NEAR || scope === CameraNode.FAR) {\n        this._uniformNode.nodeType = 'float';\n      }\n      return _get(_getPrototypeOf(CameraNode.prototype), \"generate\", this).call(this, builder);\n    }\n  }]);\n  return CameraNode;\n}(Object3DNode);\nCameraNode.PROJECTION_MATRIX = 'projectionMatrix';\nCameraNode.NEAR = 'near';\nCameraNode.FAR = 'far';\nexport default CameraNode;\nexport var cameraProjectionMatrix = label(nodeImmutable(CameraNode, CameraNode.PROJECTION_MATRIX), 'projectionMatrix');\nexport var cameraNear = nodeImmutable(CameraNode, CameraNode.NEAR);\nexport var cameraFar = nodeImmutable(CameraNode, CameraNode.FAR);\nexport var cameraViewMatrix = nodeImmutable(CameraNode, CameraNode.VIEW_MATRIX);\nexport var cameraNormalMatrix = nodeImmutable(CameraNode, CameraNode.NORMAL_MATRIX);\nexport var cameraWorldMatrix = nodeImmutable(CameraNode, CameraNode.WORLD_MATRIX);\nexport var cameraPosition = nodeImmutable(CameraNode, CameraNode.POSITION);\naddNodeClass('CameraNode', CameraNode);","map":{"version":3,"names":["Object3DNode","addNodeClass","label","nodeImmutable","CameraNode","_Object3DNode","_inherits","_super","_createSuper","scope","arguments","length","undefined","POSITION","_classCallCheck","call","_createClass","key","value","getNodeType","builder","PROJECTION_MATRIX","NEAR","FAR","_get","_getPrototypeOf","prototype","update","frame","camera","uniformNode","_uniformNode","VIEW_MATRIX","matrixWorldInverse","projectionMatrix","near","far","object3d","generate","nodeType","cameraProjectionMatrix","cameraNear","cameraFar","cameraViewMatrix","cameraNormalMatrix","NORMAL_MATRIX","cameraWorldMatrix","WORLD_MATRIX","cameraPosition"],"sources":["/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/three/examples/jsm/nodes/accessors/CameraNode.js"],"sourcesContent":["import Object3DNode from './Object3DNode.js';\nimport { addNodeClass } from '../core/Node.js';\nimport { label } from '../core/ContextNode.js';\nimport { nodeImmutable } from '../shadernode/ShaderNode.js';\n\nclass CameraNode extends Object3DNode {\n\n\tconstructor( scope = CameraNode.POSITION ) {\n\n\t\tsuper( scope );\n\n\t}\n\n\tgetNodeType( builder ) {\n\n\t\tconst scope = this.scope;\n\n\t\tif ( scope === CameraNode.PROJECTION_MATRIX ) {\n\n\t\t\treturn 'mat4';\n\n\t\t} else if ( scope === CameraNode.NEAR || scope === CameraNode.FAR ) {\n\n\t\t\treturn 'float';\n\n\t\t}\n\n\t\treturn super.getNodeType( builder );\n\n\t}\n\n\tupdate( frame ) {\n\n\t\tconst camera = frame.camera;\n\t\tconst uniformNode = this._uniformNode;\n\t\tconst scope = this.scope;\n\n\t\tif ( scope === CameraNode.VIEW_MATRIX ) {\n\n\t\t\tuniformNode.value = camera.matrixWorldInverse;\n\n\t\t} else if ( scope === CameraNode.PROJECTION_MATRIX ) {\n\n\t\t\tuniformNode.value = camera.projectionMatrix;\n\n\t\t} else if ( scope === CameraNode.NEAR ) {\n\n\t\t\tuniformNode.value = camera.near;\n\n\t\t} else if ( scope === CameraNode.FAR ) {\n\n\t\t\tuniformNode.value = camera.far;\n\n\t\t} else {\n\n\t\t\tthis.object3d = camera;\n\n\t\t\tsuper.update( frame );\n\n\t\t}\n\n\t}\n\n\tgenerate( builder ) {\n\n\t\tconst scope = this.scope;\n\n\t\tif ( scope === CameraNode.PROJECTION_MATRIX ) {\n\n\t\t\tthis._uniformNode.nodeType = 'mat4';\n\n\t\t} else if ( scope === CameraNode.NEAR || scope === CameraNode.FAR ) {\n\n\t\t\tthis._uniformNode.nodeType = 'float';\n\n\t\t}\n\n\t\treturn super.generate( builder );\n\n\t}\n\n}\n\nCameraNode.PROJECTION_MATRIX = 'projectionMatrix';\nCameraNode.NEAR = 'near';\nCameraNode.FAR = 'far';\n\nexport default CameraNode;\n\nexport const cameraProjectionMatrix = label( nodeImmutable( CameraNode, CameraNode.PROJECTION_MATRIX ), 'projectionMatrix' );\nexport const cameraNear = nodeImmutable( CameraNode, CameraNode.NEAR );\nexport const cameraFar = nodeImmutable( CameraNode, CameraNode.FAR );\nexport const cameraViewMatrix = nodeImmutable( CameraNode, CameraNode.VIEW_MATRIX );\nexport const cameraNormalMatrix = nodeImmutable( CameraNode, CameraNode.NORMAL_MATRIX );\nexport const cameraWorldMatrix = nodeImmutable( CameraNode, CameraNode.WORLD_MATRIX );\nexport const cameraPosition = nodeImmutable( CameraNode, CameraNode.POSITION );\n\naddNodeClass( 'CameraNode', CameraNode );\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}