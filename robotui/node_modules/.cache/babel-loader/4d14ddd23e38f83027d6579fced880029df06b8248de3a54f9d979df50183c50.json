{"ast":null,"code":"import _classCallCheck from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport Node, { addNodeClass } from '../core/Node.js';\nimport { uv } from '../accessors/UVNode.js';\nimport { nodeProxy, float, vec2 } from '../shadernode/ShaderNode.js';\nvar SpriteSheetUVNode = /*#__PURE__*/function (_Node) {\n  _inherits(SpriteSheetUVNode, _Node);\n  var _super = _createSuper(SpriteSheetUVNode);\n  function SpriteSheetUVNode(countNode) {\n    var _this;\n    var uvNode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : uv();\n    var frameNode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : float(0);\n    _classCallCheck(this, SpriteSheetUVNode);\n    _this = _super.call(this, 'vec2');\n    _this.countNode = countNode;\n    _this.uvNode = uvNode;\n    _this.frameNode = frameNode;\n    return _this;\n  }\n  _createClass(SpriteSheetUVNode, [{\n    key: \"setup\",\n    value: function setup() {\n      var frameNode = this.frameNode,\n        uvNode = this.uvNode,\n        countNode = this.countNode;\n      var width = countNode.width,\n        height = countNode.height;\n      var frameNum = frameNode.mod(width.mul(height)).floor();\n      var column = frameNum.mod(width);\n      var row = height.sub(frameNum.add(1).div(width).ceil());\n      var scale = countNode.reciprocal();\n      var uvFrameOffset = vec2(column, row);\n      return uvNode.add(uvFrameOffset).mul(scale);\n    }\n  }]);\n  return SpriteSheetUVNode;\n}(Node);\nexport default SpriteSheetUVNode;\nexport var spritesheetUV = nodeProxy(SpriteSheetUVNode);\naddNodeClass('SpriteSheetUVNode', SpriteSheetUVNode);","map":{"version":3,"names":["Node","addNodeClass","uv","nodeProxy","float","vec2","SpriteSheetUVNode","_Node","_inherits","_super","_createSuper","countNode","_this","uvNode","arguments","length","undefined","frameNode","_classCallCheck","call","_createClass","key","value","setup","width","height","frameNum","mod","mul","floor","column","row","sub","add","div","ceil","scale","reciprocal","uvFrameOffset","spritesheetUV"],"sources":["/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/three/examples/jsm/nodes/utils/SpriteSheetUVNode.js"],"sourcesContent":["import Node, { addNodeClass } from '../core/Node.js';\nimport { uv } from '../accessors/UVNode.js';\nimport { nodeProxy, float, vec2 } from '../shadernode/ShaderNode.js';\n\nclass SpriteSheetUVNode extends Node {\n\n\tconstructor( countNode, uvNode = uv(), frameNode = float( 0 ) ) {\n\n\t\tsuper( 'vec2' );\n\n\t\tthis.countNode = countNode;\n\t\tthis.uvNode = uvNode;\n\t\tthis.frameNode = frameNode;\n\n\t}\n\n\tsetup() {\n\n\t\tconst { frameNode, uvNode, countNode } = this;\n\n\t\tconst { width, height } = countNode;\n\n\t\tconst frameNum = frameNode.mod( width.mul( height ) ).floor();\n\n\t\tconst column = frameNum.mod( width );\n\t\tconst row = height.sub( frameNum.add( 1 ).div( width ).ceil() );\n\n\t\tconst scale = countNode.reciprocal();\n\t\tconst uvFrameOffset = vec2( column, row );\n\n\t\treturn uvNode.add( uvFrameOffset ).mul( scale );\n\n\t}\n\n}\n\nexport default SpriteSheetUVNode;\n\nexport const spritesheetUV = nodeProxy( SpriteSheetUVNode );\n\naddNodeClass( 'SpriteSheetUVNode', SpriteSheetUVNode );\n"],"mappings":";;;;AAAA,OAAOA,IAAI,IAAIC,YAAY,QAAQ,iBAAiB;AACpD,SAASC,EAAE,QAAQ,wBAAwB;AAC3C,SAASC,SAAS,EAAEC,KAAK,EAAEC,IAAI,QAAQ,6BAA6B;AAAC,IAE/DC,iBAAiB,0BAAAC,KAAA;EAAAC,SAAA,CAAAF,iBAAA,EAAAC,KAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,iBAAA;EAEtB,SAAAA,kBAAaK,SAAS,EAA0C;IAAA,IAAAC,KAAA;IAAA,IAAxCC,MAAM,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGZ,EAAE,CAAC,CAAC;IAAA,IAAEe,SAAS,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGV,KAAK,CAAE,CAAE,CAAC;IAAAc,eAAA,OAAAZ,iBAAA;IAE5DM,KAAA,GAAAH,MAAA,CAAAU,IAAA,OAAO,MAAM;IAEbP,KAAA,CAAKD,SAAS,GAAGA,SAAS;IAC1BC,KAAA,CAAKC,MAAM,GAAGA,MAAM;IACpBD,KAAA,CAAKK,SAAS,GAAGA,SAAS;IAAC,OAAAL,KAAA;EAE5B;EAACQ,YAAA,CAAAd,iBAAA;IAAAe,GAAA;IAAAC,KAAA,EAED,SAAAC,MAAA,EAAQ;MAEP,IAAQN,SAAS,GAAwB,IAAI,CAArCA,SAAS;QAAEJ,MAAM,GAAgB,IAAI,CAA1BA,MAAM;QAAEF,SAAS,GAAK,IAAI,CAAlBA,SAAS;MAEpC,IAAQa,KAAK,GAAab,SAAS,CAA3Ba,KAAK;QAAEC,MAAM,GAAKd,SAAS,CAApBc,MAAM;MAErB,IAAMC,QAAQ,GAAGT,SAAS,CAACU,GAAG,CAAEH,KAAK,CAACI,GAAG,CAAEH,MAAO,CAAE,CAAC,CAACI,KAAK,CAAC,CAAC;MAE7D,IAAMC,MAAM,GAAGJ,QAAQ,CAACC,GAAG,CAAEH,KAAM,CAAC;MACpC,IAAMO,GAAG,GAAGN,MAAM,CAACO,GAAG,CAAEN,QAAQ,CAACO,GAAG,CAAE,CAAE,CAAC,CAACC,GAAG,CAAEV,KAAM,CAAC,CAACW,IAAI,CAAC,CAAE,CAAC;MAE/D,IAAMC,KAAK,GAAGzB,SAAS,CAAC0B,UAAU,CAAC,CAAC;MACpC,IAAMC,aAAa,GAAGjC,IAAI,CAAEyB,MAAM,EAAEC,GAAI,CAAC;MAEzC,OAAOlB,MAAM,CAACoB,GAAG,CAAEK,aAAc,CAAC,CAACV,GAAG,CAAEQ,KAAM,CAAC;IAEhD;EAAC;EAAA,OAAA9B,iBAAA;AAAA,EA5B8BN,IAAI;AAgCpC,eAAeM,iBAAiB;AAEhC,OAAO,IAAMiC,aAAa,GAAGpC,SAAS,CAAEG,iBAAkB,CAAC;AAE3DL,YAAY,CAAE,mBAAmB,EAAEK,iBAAkB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}