{"ast":null,"code":"import _classCallCheck from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport TempNode from '../core/TempNode.js';\nimport { addNodeClass } from '../core/Node.js';\nimport { add, mul, div } from '../math/OperatorNode.js';\nimport { floor, ceil, fract, pow } from '../math/MathNode.js';\nimport { nodeProxy, addNodeElement, float, vec2, vec4, int } from '../shadernode/ShaderNode.js';\n\n// Mipped Bicubic Texture Filtering by N8\n// https://www.shadertoy.com/view/Dl2SDW\n\nvar bC = 1.0 / 6.0;\nvar w0 = function w0(a) {\n  return mul(bC, mul(a, mul(a, a.negate().add(3.0)).sub(3.0)).add(1.0));\n};\nvar w1 = function w1(a) {\n  return mul(bC, mul(a, mul(a, mul(3.0, a).sub(6.0))).add(4.0));\n};\nvar w2 = function w2(a) {\n  return mul(bC, mul(a, mul(a, mul(-3.0, a).add(3.0)).add(3.0)).add(1.0));\n};\nvar w3 = function w3(a) {\n  return mul(bC, pow(a, 3));\n};\nvar g0 = function g0(a) {\n  return w0(a).add(w1(a));\n};\nvar g1 = function g1(a) {\n  return w2(a).add(w3(a));\n};\n\n// h0 and h1 are the two offset functions\nvar h0 = function h0(a) {\n  return add(-1.0, w1(a).div(w0(a).add(w1(a))));\n};\nvar h1 = function h1(a) {\n  return add(1.0, w3(a).div(w2(a).add(w3(a))));\n};\nvar bicubic = function bicubic(textureNode, texelSize, lod) {\n  var uv = textureNode.uvNode;\n  var uvScaled = mul(uv, texelSize.zw).add(0.5);\n  var iuv = floor(uvScaled);\n  var fuv = fract(uvScaled);\n  var g0x = g0(fuv.x);\n  var g1x = g1(fuv.x);\n  var h0x = h0(fuv.x);\n  var h1x = h1(fuv.x);\n  var h0y = h0(fuv.y);\n  var h1y = h1(fuv.y);\n  var p0 = vec2(iuv.x.add(h0x), iuv.y.add(h0y)).sub(0.5).mul(texelSize.xy);\n  var p1 = vec2(iuv.x.add(h1x), iuv.y.add(h0y)).sub(0.5).mul(texelSize.xy);\n  var p2 = vec2(iuv.x.add(h0x), iuv.y.add(h1y)).sub(0.5).mul(texelSize.xy);\n  var p3 = vec2(iuv.x.add(h1x), iuv.y.add(h1y)).sub(0.5).mul(texelSize.xy);\n  var a = g0(fuv.y).mul(add(g0x.mul(textureNode.uv(p0).level(lod)), g1x.mul(textureNode.uv(p1).level(lod))));\n  var b = g1(fuv.y).mul(add(g0x.mul(textureNode.uv(p2).level(lod)), g1x.mul(textureNode.uv(p3).level(lod))));\n  return a.add(b);\n};\nvar textureBicubicMethod = function textureBicubicMethod(textureNode, lodNode) {\n  var fLodSize = vec2(textureNode.size(int(lodNode)));\n  var cLodSize = vec2(textureNode.size(int(lodNode.add(1.0))));\n  var fLodSizeInv = div(1.0, fLodSize);\n  var cLodSizeInv = div(1.0, cLodSize);\n  var fSample = bicubic(textureNode, vec4(fLodSizeInv, fLodSize), floor(lodNode));\n  var cSample = bicubic(textureNode, vec4(cLodSizeInv, cLodSize), ceil(lodNode));\n  return fract(lodNode).mix(fSample, cSample);\n};\nvar TextureBicubicNode = /*#__PURE__*/function (_TempNode) {\n  _inherits(TextureBicubicNode, _TempNode);\n  var _super = _createSuper(TextureBicubicNode);\n  function TextureBicubicNode(textureNode) {\n    var _this;\n    var blurNode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : float(3);\n    _classCallCheck(this, TextureBicubicNode);\n    _this = _super.call(this, 'vec4');\n    _this.textureNode = textureNode;\n    _this.blurNode = blurNode;\n    return _this;\n  }\n  _createClass(TextureBicubicNode, [{\n    key: \"setup\",\n    value: function setup() {\n      return textureBicubicMethod(this.textureNode, this.blurNode);\n    }\n  }]);\n  return TextureBicubicNode;\n}(TempNode);\nexport default TextureBicubicNode;\nexport var textureBicubic = nodeProxy(TextureBicubicNode);\naddNodeElement('bicubic', textureBicubic);\naddNodeClass('TextureBicubicNode', TextureBicubicNode);","map":{"version":3,"names":["TempNode","addNodeClass","add","mul","div","floor","ceil","fract","pow","nodeProxy","addNodeElement","float","vec2","vec4","int","bC","w0","a","negate","sub","w1","w2","w3","g0","g1","h0","h1","bicubic","textureNode","texelSize","lod","uv","uvNode","uvScaled","zw","iuv","fuv","g0x","x","g1x","h0x","h1x","h0y","y","h1y","p0","xy","p1","p2","p3","level","b","textureBicubicMethod","lodNode","fLodSize","size","cLodSize","fLodSizeInv","cLodSizeInv","fSample","cSample","mix","TextureBicubicNode","_TempNode","_inherits","_super","_createSuper","_this","blurNode","arguments","length","undefined","_classCallCheck","call","_createClass","key","value","setup","textureBicubic"],"sources":["/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/three/examples/jsm/nodes/accessors/TextureBicubicNode.js"],"sourcesContent":["import TempNode from '../core/TempNode.js';\nimport { addNodeClass } from '../core/Node.js';\nimport { add, mul, div } from '../math/OperatorNode.js';\nimport { floor, ceil, fract, pow } from '../math/MathNode.js';\nimport { nodeProxy, addNodeElement, float, vec2, vec4, int } from '../shadernode/ShaderNode.js';\n\n// Mipped Bicubic Texture Filtering by N8\n// https://www.shadertoy.com/view/Dl2SDW\n\nconst bC = 1.0 / 6.0;\n\nconst w0 = ( a ) => mul( bC, mul( a, mul( a, a.negate().add( 3.0 ) ).sub( 3.0 ) ).add( 1.0 ) );\n\nconst w1 = ( a ) => mul( bC, mul( a, mul( a, mul( 3.0, a ).sub( 6.0 ) ) ).add( 4.0 ) );\n\nconst w2 = ( a ) => mul( bC, mul( a, mul( a, mul( - 3.0, a ).add( 3.0 ) ).add( 3.0 ) ).add( 1.0 ) );\n\nconst w3 = ( a ) => mul( bC, pow( a, 3 ) );\n\nconst g0 = ( a ) => w0( a ).add( w1( a ) );\n\nconst g1 = ( a ) => w2( a ).add( w3( a ) );\n\n// h0 and h1 are the two offset functions\nconst h0 = ( a ) => add( - 1.0, w1( a ).div( w0( a ).add( w1( a ) ) ) );\n\nconst h1 = ( a ) => add( 1.0, w3( a ).div( w2( a ).add( w3( a ) ) ) );\n\nconst bicubic = ( textureNode, texelSize, lod ) => {\n\n\tconst uv = textureNode.uvNode;\n\tconst uvScaled = mul( uv, texelSize.zw ).add( 0.5 );\n\n\tconst iuv = floor( uvScaled );\n\tconst fuv = fract( uvScaled );\n\n\tconst g0x = g0( fuv.x );\n\tconst g1x = g1( fuv.x );\n\tconst h0x = h0( fuv.x );\n\tconst h1x = h1( fuv.x );\n\tconst h0y = h0( fuv.y );\n\tconst h1y = h1( fuv.y );\n\n\tconst p0 = vec2( iuv.x.add( h0x ), iuv.y.add( h0y ) ).sub( 0.5 ).mul( texelSize.xy );\n\tconst p1 = vec2( iuv.x.add( h1x ), iuv.y.add( h0y ) ).sub( 0.5 ).mul( texelSize.xy );\n\tconst p2 = vec2( iuv.x.add( h0x ), iuv.y.add( h1y ) ).sub( 0.5 ).mul( texelSize.xy );\n\tconst p3 = vec2( iuv.x.add( h1x ), iuv.y.add( h1y ) ).sub( 0.5 ).mul( texelSize.xy );\n\n\tconst a = g0( fuv.y ).mul( add( g0x.mul( textureNode.uv( p0 ).level( lod ) ), g1x.mul( textureNode.uv( p1 ).level( lod ) ) ) );\n\tconst b = g1( fuv.y ).mul( add( g0x.mul( textureNode.uv( p2 ).level( lod ) ), g1x.mul( textureNode.uv( p3 ).level( lod ) ) ) );\n\n\treturn a.add( b );\n\n};\n\nconst textureBicubicMethod = ( textureNode, lodNode ) => {\n\n\tconst fLodSize = vec2( textureNode.size( int( lodNode ) ) );\n\tconst cLodSize = vec2( textureNode.size( int( lodNode.add( 1.0 ) ) ) );\n\tconst fLodSizeInv = div( 1.0, fLodSize );\n\tconst cLodSizeInv = div( 1.0, cLodSize );\n\tconst fSample = bicubic( textureNode, vec4( fLodSizeInv, fLodSize ), floor( lodNode ) );\n\tconst cSample = bicubic( textureNode, vec4( cLodSizeInv, cLodSize ), ceil( lodNode ) );\n\n\treturn fract( lodNode ).mix( fSample, cSample );\n\n};\n\nclass TextureBicubicNode extends TempNode {\n\n\tconstructor( textureNode, blurNode = float( 3 ) ) {\n\n\t\tsuper( 'vec4' );\n\n\t\tthis.textureNode = textureNode;\n\t\tthis.blurNode = blurNode;\n\n\t}\n\n\tsetup() {\n\n\t\treturn textureBicubicMethod( this.textureNode, this.blurNode );\n\n\t}\n\n}\n\nexport default TextureBicubicNode;\n\nexport const textureBicubic = nodeProxy( TextureBicubicNode );\n\naddNodeElement( 'bicubic', textureBicubic );\n\naddNodeClass( 'TextureBicubicNode', TextureBicubicNode );\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}