{"ast":null,"code":"import _classCallCheck from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _get from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport Node, { addNodeClass } from '../core/Node.js';\nimport { timerLocal } from './TimerNode.js';\nimport { nodeObject, nodeProxy } from '../shadernode/ShaderNode.js';\nvar OscNode = /*#__PURE__*/function (_Node) {\n  _inherits(OscNode, _Node);\n  var _super = _createSuper(OscNode);\n  function OscNode() {\n    var _this;\n    var method = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : OscNode.SINE;\n    var timeNode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : timerLocal();\n    _classCallCheck(this, OscNode);\n    _this = _super.call(this);\n    _this.method = method;\n    _this.timeNode = timeNode;\n    return _this;\n  }\n  _createClass(OscNode, [{\n    key: \"getNodeType\",\n    value: function getNodeType(builder) {\n      return this.timeNode.getNodeType(builder);\n    }\n  }, {\n    key: \"setup\",\n    value: function setup() {\n      var method = this.method;\n      var timeNode = nodeObject(this.timeNode);\n      var outputNode = null;\n      if (method === OscNode.SINE) {\n        outputNode = timeNode.add(0.75).mul(Math.PI * 2).sin().mul(0.5).add(0.5);\n      } else if (method === OscNode.SQUARE) {\n        outputNode = timeNode.fract().round();\n      } else if (method === OscNode.TRIANGLE) {\n        outputNode = timeNode.add(0.5).fract().mul(2).sub(1).abs();\n      } else if (method === OscNode.SAWTOOTH) {\n        outputNode = timeNode.fract();\n      }\n      return outputNode;\n    }\n  }, {\n    key: \"serialize\",\n    value: function serialize(data) {\n      _get(_getPrototypeOf(OscNode.prototype), \"serialize\", this).call(this, data);\n      data.method = this.method;\n    }\n  }, {\n    key: \"deserialize\",\n    value: function deserialize(data) {\n      _get(_getPrototypeOf(OscNode.prototype), \"deserialize\", this).call(this, data);\n      this.method = data.method;\n    }\n  }]);\n  return OscNode;\n}(Node);\nOscNode.SINE = 'sine';\nOscNode.SQUARE = 'square';\nOscNode.TRIANGLE = 'triangle';\nOscNode.SAWTOOTH = 'sawtooth';\nexport default OscNode;\nexport var oscSine = nodeProxy(OscNode, OscNode.SINE);\nexport var oscSquare = nodeProxy(OscNode, OscNode.SQUARE);\nexport var oscTriangle = nodeProxy(OscNode, OscNode.TRIANGLE);\nexport var oscSawtooth = nodeProxy(OscNode, OscNode.SAWTOOTH);\naddNodeClass('OscNode', OscNode);","map":{"version":3,"names":["Node","addNodeClass","timerLocal","nodeObject","nodeProxy","OscNode","_Node","_inherits","_super","_createSuper","_this","method","arguments","length","undefined","SINE","timeNode","_classCallCheck","call","_createClass","key","value","getNodeType","builder","setup","outputNode","add","mul","Math","PI","sin","SQUARE","fract","round","TRIANGLE","sub","abs","SAWTOOTH","serialize","data","_get","_getPrototypeOf","prototype","deserialize","oscSine","oscSquare","oscTriangle","oscSawtooth"],"sources":["/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/three/examples/jsm/nodes/utils/OscNode.js"],"sourcesContent":["import Node, { addNodeClass } from '../core/Node.js';\nimport { timerLocal } from './TimerNode.js';\nimport { nodeObject, nodeProxy } from '../shadernode/ShaderNode.js';\n\nclass OscNode extends Node {\n\n\tconstructor( method = OscNode.SINE, timeNode = timerLocal() ) {\n\n\t\tsuper();\n\n\t\tthis.method = method;\n\t\tthis.timeNode = timeNode;\n\n\t}\n\n\tgetNodeType( builder ) {\n\n\t\treturn this.timeNode.getNodeType( builder );\n\n\t}\n\n\tsetup() {\n\n\t\tconst method = this.method;\n\t\tconst timeNode = nodeObject( this.timeNode );\n\n\t\tlet outputNode = null;\n\n\t\tif ( method === OscNode.SINE ) {\n\n\t\t\toutputNode = timeNode.add( 0.75 ).mul( Math.PI * 2 ).sin().mul( 0.5 ).add( 0.5 );\n\n\t\t} else if ( method === OscNode.SQUARE ) {\n\n\t\t\toutputNode = timeNode.fract().round();\n\n\t\t} else if ( method === OscNode.TRIANGLE ) {\n\n\t\t\toutputNode = timeNode.add( 0.5 ).fract().mul( 2 ).sub( 1 ).abs();\n\n\t\t} else if ( method === OscNode.SAWTOOTH ) {\n\n\t\t\toutputNode = timeNode.fract();\n\n\t\t}\n\n\t\treturn outputNode;\n\n\t}\n\n\tserialize( data ) {\n\n\t\tsuper.serialize( data );\n\n\t\tdata.method = this.method;\n\n\t}\n\n\tdeserialize( data ) {\n\n\t\tsuper.deserialize( data );\n\n\t\tthis.method = data.method;\n\n\t}\n\n}\n\nOscNode.SINE = 'sine';\nOscNode.SQUARE = 'square';\nOscNode.TRIANGLE = 'triangle';\nOscNode.SAWTOOTH = 'sawtooth';\n\nexport default OscNode;\n\nexport const oscSine = nodeProxy( OscNode, OscNode.SINE );\nexport const oscSquare = nodeProxy( OscNode, OscNode.SQUARE );\nexport const oscTriangle = nodeProxy( OscNode, OscNode.TRIANGLE );\nexport const oscSawtooth = nodeProxy( OscNode, OscNode.SAWTOOTH );\n\naddNodeClass( 'OscNode', OscNode );\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}