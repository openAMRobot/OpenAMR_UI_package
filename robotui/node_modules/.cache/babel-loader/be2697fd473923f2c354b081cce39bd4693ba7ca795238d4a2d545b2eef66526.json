{"ast":null,"code":"import _classCallCheck from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport TempNode from '../core/TempNode.js';\nimport { dot, mix } from '../math/MathNode.js';\nimport { add } from '../math/OperatorNode.js';\nimport { addNodeClass } from '../core/Node.js';\nimport { addNodeElement, tslFn, nodeProxy, float, vec3, mat3 } from '../shadernode/ShaderNode.js';\nvar saturationNode = tslFn(function (_ref) {\n  var color = _ref.color,\n    adjustment = _ref.adjustment;\n  return adjustment.mix(luminance(color), color);\n});\nvar vibranceNode = tslFn(function (_ref2) {\n  var color = _ref2.color,\n    adjustment = _ref2.adjustment;\n  var average = add(color.r, color.g, color.b).div(3.0);\n  var mx = color.r.max(color.g.max(color.b));\n  var amt = mx.sub(average).mul(adjustment).mul(-3.0);\n  return mix(color, mx, amt);\n});\nvar hueNode = tslFn(function (_ref3) {\n  var color = _ref3.color,\n    adjustment = _ref3.adjustment;\n  var RGBtoYIQ = mat3(0.299, 0.587, 0.114, 0.595716, -0.274453, -0.321263, 0.211456, -0.522591, 0.311135);\n  var YIQtoRGB = mat3(1.0, 0.9563, 0.6210, 1.0, -0.2721, -0.6474, 1.0, -1.107, 1.7046);\n  var yiq = RGBtoYIQ.mul(color);\n  var hue = yiq.z.atan2(yiq.y).add(adjustment);\n  var chroma = yiq.yz.length();\n  return YIQtoRGB.mul(vec3(yiq.x, chroma.mul(hue.cos()), chroma.mul(hue.sin())));\n});\nvar ColorAdjustmentNode = /*#__PURE__*/function (_TempNode) {\n  _inherits(ColorAdjustmentNode, _TempNode);\n  var _super = _createSuper(ColorAdjustmentNode);\n  function ColorAdjustmentNode(method, colorNode) {\n    var _this;\n    var adjustmentNode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : float(1);\n    _classCallCheck(this, ColorAdjustmentNode);\n    _this = _super.call(this, 'vec3');\n    _this.method = method;\n    _this.colorNode = colorNode;\n    _this.adjustmentNode = adjustmentNode;\n    return _this;\n  }\n  _createClass(ColorAdjustmentNode, [{\n    key: \"setup\",\n    value: function setup() {\n      var method = this.method,\n        colorNode = this.colorNode,\n        adjustmentNode = this.adjustmentNode;\n      var callParams = {\n        color: colorNode,\n        adjustment: adjustmentNode\n      };\n      var outputNode = null;\n      if (method === ColorAdjustmentNode.SATURATION) {\n        outputNode = saturationNode(callParams);\n      } else if (method === ColorAdjustmentNode.VIBRANCE) {\n        outputNode = vibranceNode(callParams);\n      } else if (method === ColorAdjustmentNode.HUE) {\n        outputNode = hueNode(callParams);\n      } else {\n        console.error(\"\".concat(this.type, \": Method \\\"\").concat(this.method, \"\\\" not supported!\"));\n      }\n      return outputNode;\n    }\n  }]);\n  return ColorAdjustmentNode;\n}(TempNode);\nColorAdjustmentNode.SATURATION = 'saturation';\nColorAdjustmentNode.VIBRANCE = 'vibrance';\nColorAdjustmentNode.HUE = 'hue';\nexport default ColorAdjustmentNode;\nexport var saturation = nodeProxy(ColorAdjustmentNode, ColorAdjustmentNode.SATURATION);\nexport var vibrance = nodeProxy(ColorAdjustmentNode, ColorAdjustmentNode.VIBRANCE);\nexport var hue = nodeProxy(ColorAdjustmentNode, ColorAdjustmentNode.HUE);\nexport var lumaCoeffs = vec3(0.2125, 0.7154, 0.0721);\nexport var luminance = function luminance(color) {\n  var luma = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : lumaCoeffs;\n  return dot(color, luma);\n};\naddNodeElement('saturation', saturation);\naddNodeElement('vibrance', vibrance);\naddNodeElement('hue', hue);\naddNodeClass('ColorAdjustmentNode', ColorAdjustmentNode);","map":{"version":3,"names":["TempNode","dot","mix","add","addNodeClass","addNodeElement","tslFn","nodeProxy","float","vec3","mat3","saturationNode","_ref","color","adjustment","luminance","vibranceNode","_ref2","average","r","g","b","div","mx","max","amt","sub","mul","hueNode","_ref3","RGBtoYIQ","YIQtoRGB","yiq","hue","z","atan2","y","chroma","yz","length","x","cos","sin","ColorAdjustmentNode","_TempNode","_inherits","_super","_createSuper","method","colorNode","_this","adjustmentNode","arguments","undefined","_classCallCheck","call","_createClass","key","value","setup","callParams","outputNode","SATURATION","VIBRANCE","HUE","console","error","concat","type","saturation","vibrance","lumaCoeffs","luma"],"sources":["/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/three/examples/jsm/nodes/display/ColorAdjustmentNode.js"],"sourcesContent":["import TempNode from '../core/TempNode.js';\nimport { dot, mix } from '../math/MathNode.js';\nimport { add } from '../math/OperatorNode.js';\nimport { addNodeClass } from '../core/Node.js';\nimport { addNodeElement, tslFn, nodeProxy, float, vec3, mat3 } from '../shadernode/ShaderNode.js';\n\nconst saturationNode = tslFn( ( { color, adjustment } ) => {\n\n\treturn adjustment.mix( luminance( color ), color );\n\n} );\n\nconst vibranceNode = tslFn( ( { color, adjustment } ) => {\n\n\tconst average = add( color.r, color.g, color.b ).div( 3.0 );\n\n\tconst mx = color.r.max( color.g.max( color.b ) );\n\tconst amt = mx.sub( average ).mul( adjustment ).mul( - 3.0 );\n\n\treturn mix( color, mx, amt );\n\n} );\n\nconst hueNode = tslFn( ( { color, adjustment } ) => {\n\n\tconst RGBtoYIQ = mat3( 0.299, 0.587, 0.114, 0.595716, - 0.274453, - 0.321263, 0.211456, - 0.522591, 0.311135 );\n\tconst YIQtoRGB = mat3( 1.0, 0.9563, 0.6210, 1.0, - 0.2721, - 0.6474, 1.0, - 1.107, 1.7046 );\n\n\tconst yiq = RGBtoYIQ.mul( color );\n\n\tconst hue = yiq.z.atan2( yiq.y ).add( adjustment );\n\tconst chroma = yiq.yz.length();\n\n\treturn YIQtoRGB.mul( vec3( yiq.x, chroma.mul( hue.cos() ), chroma.mul( hue.sin() ) ) );\n\n} );\n\nclass ColorAdjustmentNode extends TempNode {\n\n\tconstructor( method, colorNode, adjustmentNode = float( 1 ) ) {\n\n\t\tsuper( 'vec3' );\n\n\t\tthis.method = method;\n\n\t\tthis.colorNode = colorNode;\n\t\tthis.adjustmentNode = adjustmentNode;\n\n\t}\n\n\tsetup() {\n\n\t\tconst { method, colorNode, adjustmentNode } = this;\n\n\t\tconst callParams = { color: colorNode, adjustment: adjustmentNode };\n\n\t\tlet outputNode = null;\n\n\t\tif ( method === ColorAdjustmentNode.SATURATION ) {\n\n\t\t\toutputNode = saturationNode( callParams );\n\n\t\t} else if ( method === ColorAdjustmentNode.VIBRANCE ) {\n\n\t\t\toutputNode = vibranceNode( callParams );\n\n\t\t} else if ( method === ColorAdjustmentNode.HUE ) {\n\n\t\t\toutputNode = hueNode( callParams );\n\n\t\t} else {\n\n\t\t\tconsole.error( `${ this.type }: Method \"${ this.method }\" not supported!` );\n\n\t\t}\n\n\t\treturn outputNode;\n\n\t}\n\n}\n\nColorAdjustmentNode.SATURATION = 'saturation';\nColorAdjustmentNode.VIBRANCE = 'vibrance';\nColorAdjustmentNode.HUE = 'hue';\n\nexport default ColorAdjustmentNode;\n\nexport const saturation = nodeProxy( ColorAdjustmentNode, ColorAdjustmentNode.SATURATION );\nexport const vibrance = nodeProxy( ColorAdjustmentNode, ColorAdjustmentNode.VIBRANCE );\nexport const hue = nodeProxy( ColorAdjustmentNode, ColorAdjustmentNode.HUE );\n\nexport const lumaCoeffs = vec3( 0.2125, 0.7154, 0.0721 );\nexport const luminance = ( color, luma = lumaCoeffs ) => dot( color, luma );\n\naddNodeElement( 'saturation', saturation );\naddNodeElement( 'vibrance', vibrance );\naddNodeElement( 'hue', hue );\n\naddNodeClass( 'ColorAdjustmentNode', ColorAdjustmentNode );\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}