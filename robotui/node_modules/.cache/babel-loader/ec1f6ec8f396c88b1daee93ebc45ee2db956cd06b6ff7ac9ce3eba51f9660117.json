{"ast":null,"code":"import _slicedToArray from\"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* eslint-disable no-unused-vars */import React,{useRef,useContext,useState,useEffect}from\"react\";import Camera from\"../components/Camera\";import Logs from\"../components/Logs\";import CircularProgress from\"../components/CircularProgressBar\";import RobotState from\"../components/RobotState\";import{RosContext}from\"../app/App\";import{AppConfig}from\"../shared/constants/index\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var InfoPage=function InfoPage(){var ros=useContext(RosContext);var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),sensorsData=_useState2[0],setSensorsData=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),batteryData=_useState4[0],setBatteryData=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),charge=_useState6[0],setCharge=_useState6[1];var sensorsTopic=useRef(new window.ROSLIB.Topic({ros:ros,name:AppConfig.SENSORS_TOPIC,messageType:\"std_msgs/String\"}));var batteryTopic=useRef(new window.ROSLIB.Topic({ros:ros,name:AppConfig.BATTERY_TOPIC,messageType:\"sensor_msgs/BatteryState\"}));var chargeTopic=useRef(new window.ROSLIB.Topic({ros:ros,name:AppConfig.CHARGE_STATION_CONNECTED,messageType:\"std_msgs/Bool\"}));useEffect(function(){sensorsTopic.current.subscribe(function(_ref){var data=_ref.data;setSensorsData(data);});batteryTopic.current.subscribe(function(data){var batteryData=data.percentage;setBatteryData(batteryData);});chargeTopic.current.subscribe(function(_ref2){var data=_ref2.data;setCharge(data);});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"items-stratch relative flex min-h-[70vh] flex-col gap-[30px] pt-[30px] xl:flex-row xl:gap-[7%]\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"color-white flex w-full flex-col items-start justify-center gap-[30px] xl:w-3/5\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"w-full text-center font-[RobotoMono] text-3xl font-bold text-themeBlue\",children:\"Camera\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-[450px] w-full\",children:/*#__PURE__*/_jsx(Camera,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-auto w-full\",children:/*#__PURE__*/_jsx(RobotState,{})})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"color-white flex w-full flex-col items-center justify-center gap-[30px] xl:w-2/5\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"w-full text-center font-[RobotoMono] text-3xl font-bold text-themeBlue\",children:\"Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-4 grid-rows-2 gap-x-[30px] gap-y-2 2xl:gap-x-[60px]\",children:[/*#__PURE__*/_jsx(CircularProgress,{sensorsData:sensorsData,sensorName:\"batt1\",color:\"##ff7a00\",text:\"Battery 1, %\",units:\"%\",minValue:0,maxValue:100}),/*#__PURE__*/_jsx(CircularProgress,{sensorsData:sensorsData,sensorName:\"batt2\",color:\"#00e1ff\",text:\"Battery 2, %\",units:\"%\",minValue:0,maxValue:100}),/*#__PURE__*/_jsx(CircularProgress,{sensorsData:sensorsData,sensorName:\"sens3\",color:\"#00ffb0\",text:\"Sensor 3\",units:\"\",minValue:0,maxValue:100}),/*#__PURE__*/_jsx(CircularProgress,{sensorsData:sensorsData,sensorName:\"sens4\",color:\"#c5cc02\",text:\"Sensor 4\",units:\"\",minValue:0,maxValue:100}),/*#__PURE__*/_jsx(CircularProgress,{sensorsData:sensorsData,sensorName:\"sens5\",color:\"#d96cff\",text:\"Sensor 5\",units:\"\",minValue:0,maxValue:100}),/*#__PURE__*/_jsx(CircularProgress,{sensorsData:sensorsData,sensorName:\"sens6\",color:\"#FFC0CB\",text:\"Sensor 6\",units:\"\",minValue:0,maxValue:100}),/*#__PURE__*/_jsx(CircularProgress,{sensorsData:sensorsData,sensorName:\"temp1\",color:\"#00a3ff\",text:\"Temp 1, \\u2103\",units:\"\\u2103\",minValue:0,maxValue:40}),/*#__PURE__*/_jsx(CircularProgress,{sensorsData:sensorsData,sensorName:\"temp2\",color:\"#ff48ed\",text:\"Temp 2, \\u2103\",units:\"\\u2103\",minValue:0,maxValue:40})]}),/*#__PURE__*/_jsxs(\"h3\",{className:\"w-full text-center font-[RobotoMono] text-2xl font-bold \",children:[charge&&/*#__PURE__*/_jsx(\"span\",{className:\"text-themeDarkBlue\",children:\"Connected to the charging station\"}),!charge&&/*#__PURE__*/_jsx(\"span\",{className:\"text-white\",children:\"Not connected to the charging station\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-auto h-[240px] w-full\",children:/*#__PURE__*/_jsx(Logs,{})})]})]});};export default InfoPage;","map":{"version":3,"names":["React","useRef","useContext","useState","useEffect","Camera","Logs","CircularProgress","RobotState","RosContext","AppConfig","jsx","_jsx","jsxs","_jsxs","InfoPage","ros","_useState","_useState2","_slicedToArray","sensorsData","setSensorsData","_useState3","_useState4","batteryData","setBatteryData","_useState5","_useState6","charge","setCharge","sensorsTopic","window","ROSLIB","Topic","name","SENSORS_TOPIC","messageType","batteryTopic","BATTERY_TOPIC","chargeTopic","CHARGE_STATION_CONNECTED","current","subscribe","_ref","data","percentage","_ref2","className","children","sensorName","color","text","units","minValue","maxValue"],"sources":["/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/src/pages/InfoPage.jsx"],"sourcesContent":["/* eslint-disable no-unused-vars */\nimport React, { useRef, useContext, useState, useEffect } from \"react\";\n\nimport Camera from \"../components/Camera\";\nimport Logs from \"../components/Logs\";\nimport CircularProgress from \"../components/CircularProgressBar\";\n\nimport RobotState from \"../components/RobotState\";\nimport { RosContext } from \"../app/App\";\nimport { AppConfig } from \"../shared/constants/index\";\n\nconst InfoPage = () => {\n  const ros = useContext(RosContext);\n  const [sensorsData, setSensorsData] = useState(\"\");\n  const [batteryData, setBatteryData] = useState(\"\");\n  const [charge, setCharge] = useState(false);\n\n  const sensorsTopic = useRef(\n    new window.ROSLIB.Topic({\n      ros,\n      name: AppConfig.SENSORS_TOPIC,\n      messageType: \"std_msgs/String\",\n    }),\n  );\n\n  const batteryTopic = useRef(\n    new window.ROSLIB.Topic({\n      ros,\n      name: AppConfig.BATTERY_TOPIC,\n      messageType: \"sensor_msgs/BatteryState\",\n    }),\n  );\n\n  const chargeTopic = useRef(\n    new window.ROSLIB.Topic({\n      ros,\n      name: AppConfig.CHARGE_STATION_CONNECTED,\n      messageType: \"std_msgs/Bool\",\n    }),\n  );\n\n  useEffect(() => {\n    sensorsTopic.current.subscribe(({ data }) => {\n      setSensorsData(data);\n    });\n\n    batteryTopic.current.subscribe((data) => {\n      const batteryData = data.percentage;\n      setBatteryData(batteryData);\n    });\n\n    chargeTopic.current.subscribe(({ data }) => {\n      setCharge(data);\n    });\n  }, []);\n\n  return (\n    <div className=\"items-stratch relative flex min-h-[70vh] flex-col gap-[30px] pt-[30px] xl:flex-row xl:gap-[7%]\">\n      <section className=\"color-white flex w-full flex-col items-start justify-center gap-[30px] xl:w-3/5\">\n        <h3 className=\"w-full text-center font-[RobotoMono] text-3xl font-bold text-themeBlue\">\n          Camera\n        </h3>\n        <div className=\"h-[450px] w-full\">\n          <Camera />\n        </div>\n        <div className=\"mt-auto w-full\">\n          <RobotState />\n        </div>\n      </section>\n\n      <section className=\"color-white flex w-full flex-col items-center justify-center gap-[30px] xl:w-2/5\">\n        <h3 className=\"w-full text-center font-[RobotoMono] text-3xl font-bold text-themeBlue\">\n          Information\n        </h3>\n\n        <div className=\"grid grid-cols-4 grid-rows-2 gap-x-[30px] gap-y-2 2xl:gap-x-[60px]\">\n          <CircularProgress\n            sensorsData={sensorsData}\n            sensorName=\"batt1\"\n            color=\"##ff7a00\"\n            text=\"Battery 1, %\"\n            units=\"%\"\n            minValue={0}\n            maxValue={100}\n          />\n          <CircularProgress\n            sensorsData={sensorsData}\n            sensorName=\"batt2\"\n            color=\"#00e1ff\"\n            text=\"Battery 2, %\"\n            units=\"%\"\n            minValue={0}\n            maxValue={100}\n          />\n          <CircularProgress\n            sensorsData={sensorsData}\n            sensorName=\"sens3\"\n            color=\"#00ffb0\"\n            text=\"Sensor 3\"\n            units=\"\"\n            minValue={0}\n            maxValue={100}\n          />\n          <CircularProgress\n            sensorsData={sensorsData}\n            sensorName=\"sens4\"\n            color=\"#c5cc02\"\n            text=\"Sensor 4\"\n            units=\"\"\n            minValue={0}\n            maxValue={100}\n          />\n          <CircularProgress\n            sensorsData={sensorsData}\n            sensorName=\"sens5\"\n            color=\"#d96cff\"\n            text=\"Sensor 5\"\n            units=\"\"\n            minValue={0}\n            maxValue={100}\n          />\n          <CircularProgress\n            sensorsData={sensorsData}\n            sensorName=\"sens6\"\n            color=\"#FFC0CB\"\n            text=\"Sensor 6\"\n            units=\"\"\n            minValue={0}\n            maxValue={100}\n          />\n          <CircularProgress\n            sensorsData={sensorsData}\n            sensorName=\"temp1\"\n            color=\"#00a3ff\"\n            text=\"Temp 1, 邃ソ"\n            units=\"邃ソ"\n            minValue={0}\n            maxValue={40}\n          />\n          <CircularProgress\n            sensorsData={sensorsData}\n            sensorName=\"temp2\"\n            color=\"#ff48ed\"\n            text=\"Temp 2, 邃ソ"\n            units=\"邃ソ"\n            minValue={0}\n            maxValue={40}\n          />\n        </div>\n\n        <h3 className=\"w-full text-center font-[RobotoMono] text-2xl font-bold \">\n          {charge && (\n            <span className=\"text-themeDarkBlue\">\n              Connected to the charging station\n            </span>\n          )}\n          {!charge && (\n            <span className=\"text-white\">\n              Not connected to the charging station\n            </span>\n          )}\n        </h3>\n\n        <div className=\"mt-auto h-[240px] w-full\">\n          <Logs />\n        </div>\n      </section>\n    </div>\n  );\n};\n\nexport default InfoPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}