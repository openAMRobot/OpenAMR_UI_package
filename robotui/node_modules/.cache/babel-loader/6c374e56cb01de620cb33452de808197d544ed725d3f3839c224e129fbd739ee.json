{"ast":null,"code":"import _classCallCheck from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _get from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport AnalyticLightNode from './AnalyticLightNode.js';\nimport { addLightNode } from './LightsNode.js';\nimport { uniform } from '../core/UniformNode.js';\nimport { mix } from '../math/MathNode.js';\nimport { normalView } from '../accessors/NormalNode.js';\nimport { objectPosition } from '../accessors/Object3DNode.js';\nimport { addNodeClass } from '../core/Node.js';\nimport { Color, HemisphereLight } from 'three';\nvar HemisphereLightNode = /*#__PURE__*/function (_AnalyticLightNode) {\n  _inherits(HemisphereLightNode, _AnalyticLightNode);\n  var _super = _createSuper(HemisphereLightNode);\n  function HemisphereLightNode() {\n    var _this;\n    var light = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    _classCallCheck(this, HemisphereLightNode);\n    _this = _super.call(this, light);\n    _this.lightPositionNode = objectPosition(light);\n    _this.lightDirectionNode = _this.lightPositionNode.normalize();\n    _this.groundColorNode = uniform(new Color());\n    return _this;\n  }\n  _createClass(HemisphereLightNode, [{\n    key: \"update\",\n    value: function update(frame) {\n      var light = this.light;\n      _get(_getPrototypeOf(HemisphereLightNode.prototype), \"update\", this).call(this, frame);\n      this.lightPositionNode.object3d = light;\n      this.groundColorNode.value.copy(light.groundColor).multiplyScalar(light.intensity);\n    }\n  }, {\n    key: \"setup\",\n    value: function setup(builder) {\n      var colorNode = this.colorNode,\n        groundColorNode = this.groundColorNode,\n        lightDirectionNode = this.lightDirectionNode;\n      var dotNL = normalView.dot(lightDirectionNode);\n      var hemiDiffuseWeight = dotNL.mul(0.5).add(0.5);\n      var irradiance = mix(groundColorNode, colorNode, hemiDiffuseWeight);\n      builder.context.irradiance.addAssign(irradiance);\n    }\n  }]);\n  return HemisphereLightNode;\n}(AnalyticLightNode);\nexport default HemisphereLightNode;\naddNodeClass('HemisphereLightNode', HemisphereLightNode);\naddLightNode(HemisphereLight, HemisphereLightNode);","map":{"version":3,"names":["AnalyticLightNode","addLightNode","uniform","mix","normalView","objectPosition","addNodeClass","Color","HemisphereLight","HemisphereLightNode","_AnalyticLightNode","_inherits","_super","_createSuper","_this","light","arguments","length","undefined","_classCallCheck","call","lightPositionNode","lightDirectionNode","normalize","groundColorNode","_createClass","key","value","update","frame","_get","_getPrototypeOf","prototype","object3d","copy","groundColor","multiplyScalar","intensity","setup","builder","colorNode","dotNL","dot","hemiDiffuseWeight","mul","add","irradiance","context","addAssign"],"sources":["/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/three/examples/jsm/nodes/lighting/HemisphereLightNode.js"],"sourcesContent":["import AnalyticLightNode from './AnalyticLightNode.js';\nimport { addLightNode } from './LightsNode.js';\nimport { uniform } from '../core/UniformNode.js';\nimport { mix } from '../math/MathNode.js';\nimport { normalView } from '../accessors/NormalNode.js';\nimport { objectPosition } from '../accessors/Object3DNode.js';\nimport { addNodeClass } from '../core/Node.js';\n\nimport { Color, HemisphereLight } from 'three';\n\nclass HemisphereLightNode extends AnalyticLightNode {\n\n\tconstructor( light = null ) {\n\n\t\tsuper( light );\n\n\t\tthis.lightPositionNode = objectPosition( light );\n\t\tthis.lightDirectionNode = this.lightPositionNode.normalize();\n\n\t\tthis.groundColorNode = uniform( new Color() );\n\n\t}\n\n\tupdate( frame ) {\n\n\t\tconst { light } = this;\n\n\t\tsuper.update( frame );\n\n\t\tthis.lightPositionNode.object3d = light;\n\n\t\tthis.groundColorNode.value.copy( light.groundColor ).multiplyScalar( light.intensity );\n\n\t}\n\n\tsetup( builder ) {\n\n\t\tconst { colorNode, groundColorNode, lightDirectionNode } = this;\n\n\t\tconst dotNL = normalView.dot( lightDirectionNode );\n\t\tconst hemiDiffuseWeight = dotNL.mul( 0.5 ).add( 0.5 );\n\n\t\tconst irradiance = mix( groundColorNode, colorNode, hemiDiffuseWeight );\n\n\t\tbuilder.context.irradiance.addAssign( irradiance );\n\n\t}\n\n}\n\nexport default HemisphereLightNode;\n\naddNodeClass( 'HemisphereLightNode', HemisphereLightNode );\n\naddLightNode( HemisphereLight, HemisphereLightNode );\n"],"mappings":";;;;;;AAAA,OAAOA,iBAAiB,MAAM,wBAAwB;AACtD,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,OAAO,QAAQ,wBAAwB;AAChD,SAASC,GAAG,QAAQ,qBAAqB;AACzC,SAASC,UAAU,QAAQ,4BAA4B;AACvD,SAASC,cAAc,QAAQ,8BAA8B;AAC7D,SAASC,YAAY,QAAQ,iBAAiB;AAE9C,SAASC,KAAK,EAAEC,eAAe,QAAQ,OAAO;AAAC,IAEzCC,mBAAmB,0BAAAC,kBAAA;EAAAC,SAAA,CAAAF,mBAAA,EAAAC,kBAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,mBAAA;EAExB,SAAAA,oBAAA,EAA4B;IAAA,IAAAK,KAAA;IAAA,IAAfC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAI;IAAAG,eAAA,OAAAV,mBAAA;IAExBK,KAAA,GAAAF,MAAA,CAAAQ,IAAA,OAAOL,KAAK;IAEZD,KAAA,CAAKO,iBAAiB,GAAGhB,cAAc,CAAEU,KAAM,CAAC;IAChDD,KAAA,CAAKQ,kBAAkB,GAAGR,KAAA,CAAKO,iBAAiB,CAACE,SAAS,CAAC,CAAC;IAE5DT,KAAA,CAAKU,eAAe,GAAGtB,OAAO,CAAE,IAAIK,KAAK,CAAC,CAAE,CAAC;IAAC,OAAAO,KAAA;EAE/C;EAACW,YAAA,CAAAhB,mBAAA;IAAAiB,GAAA;IAAAC,KAAA,EAED,SAAAC,OAAQC,KAAK,EAAG;MAEf,IAAQd,KAAK,GAAK,IAAI,CAAdA,KAAK;MAEbe,IAAA,CAAAC,eAAA,CAAAtB,mBAAA,CAAAuB,SAAA,mBAAAZ,IAAA,OAAcS,KAAK;MAEnB,IAAI,CAACR,iBAAiB,CAACY,QAAQ,GAAGlB,KAAK;MAEvC,IAAI,CAACS,eAAe,CAACG,KAAK,CAACO,IAAI,CAAEnB,KAAK,CAACoB,WAAY,CAAC,CAACC,cAAc,CAAErB,KAAK,CAACsB,SAAU,CAAC;IAEvF;EAAC;IAAAX,GAAA;IAAAC,KAAA,EAED,SAAAW,MAAOC,OAAO,EAAG;MAEhB,IAAQC,SAAS,GAA0C,IAAI,CAAvDA,SAAS;QAAEhB,eAAe,GAAyB,IAAI,CAA5CA,eAAe;QAAEF,kBAAkB,GAAK,IAAI,CAA3BA,kBAAkB;MAEtD,IAAMmB,KAAK,GAAGrC,UAAU,CAACsC,GAAG,CAAEpB,kBAAmB,CAAC;MAClD,IAAMqB,iBAAiB,GAAGF,KAAK,CAACG,GAAG,CAAE,GAAI,CAAC,CAACC,GAAG,CAAE,GAAI,CAAC;MAErD,IAAMC,UAAU,GAAG3C,GAAG,CAAEqB,eAAe,EAAEgB,SAAS,EAAEG,iBAAkB,CAAC;MAEvEJ,OAAO,CAACQ,OAAO,CAACD,UAAU,CAACE,SAAS,CAAEF,UAAW,CAAC;IAEnD;EAAC;EAAA,OAAArC,mBAAA;AAAA,EApCgCT,iBAAiB;AAwCnD,eAAeS,mBAAmB;AAElCH,YAAY,CAAE,qBAAqB,EAAEG,mBAAoB,CAAC;AAE1DR,YAAY,CAAEO,eAAe,EAAEC,mBAAoB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}