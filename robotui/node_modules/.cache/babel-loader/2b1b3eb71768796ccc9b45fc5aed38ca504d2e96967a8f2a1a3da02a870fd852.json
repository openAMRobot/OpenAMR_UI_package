{"ast":null,"code":"import _classCallCheck from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _get from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport Node, { addNodeClass } from '../core/Node.js';\nimport { nodeProxy } from '../shadernode/ShaderNode.js';\nimport { objectPosition } from '../accessors/Object3DNode.js';\nimport { cameraViewMatrix } from '../accessors/CameraNode.js';\nvar LightNode = /*#__PURE__*/function (_Node) {\n  _inherits(LightNode, _Node);\n  var _super = _createSuper(LightNode);\n  function LightNode() {\n    var _this;\n    var scope = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : LightNode.TARGET_DIRECTION;\n    var light = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    _classCallCheck(this, LightNode);\n    _this = _super.call(this);\n    _this.scope = scope;\n    _this.light = light;\n    return _this;\n  }\n  _createClass(LightNode, [{\n    key: \"setup\",\n    value: function setup() {\n      var scope = this.scope,\n        light = this.light;\n      var output = null;\n      if (scope === LightNode.TARGET_DIRECTION) {\n        output = cameraViewMatrix.transformDirection(objectPosition(light).sub(objectPosition(light.target)));\n      }\n      return output;\n    }\n  }, {\n    key: \"serialize\",\n    value: function serialize(data) {\n      _get(_getPrototypeOf(LightNode.prototype), \"serialize\", this).call(this, data);\n      data.scope = this.scope;\n    }\n  }, {\n    key: \"deserialize\",\n    value: function deserialize(data) {\n      _get(_getPrototypeOf(LightNode.prototype), \"deserialize\", this).call(this, data);\n      this.scope = data.scope;\n    }\n  }]);\n  return LightNode;\n}(Node);\nLightNode.TARGET_DIRECTION = 'targetDirection';\nexport default LightNode;\nexport var lightTargetDirection = nodeProxy(LightNode, LightNode.TARGET_DIRECTION);\naddNodeClass('LightNode', LightNode);","map":{"version":3,"names":["Node","addNodeClass","nodeProxy","objectPosition","cameraViewMatrix","LightNode","_Node","_inherits","_super","_createSuper","_this","scope","arguments","length","undefined","TARGET_DIRECTION","light","_classCallCheck","call","_createClass","key","value","setup","output","transformDirection","sub","target","serialize","data","_get","_getPrototypeOf","prototype","deserialize","lightTargetDirection"],"sources":["/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/three/examples/jsm/nodes/lighting/LightNode.js"],"sourcesContent":["import Node, { addNodeClass } from '../core/Node.js';\nimport { nodeProxy } from '../shadernode/ShaderNode.js';\nimport { objectPosition } from '../accessors/Object3DNode.js';\nimport { cameraViewMatrix } from '../accessors/CameraNode.js';\n\nclass LightNode extends Node {\n\n\tconstructor( scope = LightNode.TARGET_DIRECTION, light = null ) {\n\n\t\tsuper();\n\n\t\tthis.scope = scope;\n\t\tthis.light = light;\n\n\t}\n\n\tsetup() {\n\n\t\tconst { scope, light } = this;\n\n\t\tlet output = null;\n\n\t\tif ( scope === LightNode.TARGET_DIRECTION ) {\n\n\t\t\toutput = cameraViewMatrix.transformDirection( objectPosition( light ).sub( objectPosition( light.target ) ) );\n\n\t\t}\n\n\t\treturn output;\n\n\t}\n\n\tserialize( data ) {\n\n\t\tsuper.serialize( data );\n\n\t\tdata.scope = this.scope;\n\n\t}\n\n\tdeserialize( data ) {\n\n\t\tsuper.deserialize( data );\n\n\t\tthis.scope = data.scope;\n\n\t}\n\n}\n\nLightNode.TARGET_DIRECTION = 'targetDirection';\n\nexport default LightNode;\n\nexport const lightTargetDirection = nodeProxy( LightNode, LightNode.TARGET_DIRECTION );\n\naddNodeClass( 'LightNode', LightNode );\n"],"mappings":";;;;;;AAAA,OAAOA,IAAI,IAAIC,YAAY,QAAQ,iBAAiB;AACpD,SAASC,SAAS,QAAQ,6BAA6B;AACvD,SAASC,cAAc,QAAQ,8BAA8B;AAC7D,SAASC,gBAAgB,QAAQ,4BAA4B;AAAC,IAExDC,SAAS,0BAAAC,KAAA;EAAAC,SAAA,CAAAF,SAAA,EAAAC,KAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,SAAA;EAEd,SAAAA,UAAA,EAAgE;IAAA,IAAAK,KAAA;IAAA,IAAnDC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGP,SAAS,CAACU,gBAAgB;IAAA,IAAEC,KAAK,GAAAJ,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAI;IAAAK,eAAA,OAAAZ,SAAA;IAE5DK,KAAA,GAAAF,MAAA,CAAAU,IAAA;IAEAR,KAAA,CAAKC,KAAK,GAAGA,KAAK;IAClBD,KAAA,CAAKM,KAAK,GAAGA,KAAK;IAAC,OAAAN,KAAA;EAEpB;EAACS,YAAA,CAAAd,SAAA;IAAAe,GAAA;IAAAC,KAAA,EAED,SAAAC,MAAA,EAAQ;MAEP,IAAQX,KAAK,GAAY,IAAI,CAArBA,KAAK;QAAEK,KAAK,GAAK,IAAI,CAAdA,KAAK;MAEpB,IAAIO,MAAM,GAAG,IAAI;MAEjB,IAAKZ,KAAK,KAAKN,SAAS,CAACU,gBAAgB,EAAG;QAE3CQ,MAAM,GAAGnB,gBAAgB,CAACoB,kBAAkB,CAAErB,cAAc,CAAEa,KAAM,CAAC,CAACS,GAAG,CAAEtB,cAAc,CAAEa,KAAK,CAACU,MAAO,CAAE,CAAE,CAAC;MAE9G;MAEA,OAAOH,MAAM;IAEd;EAAC;IAAAH,GAAA;IAAAC,KAAA,EAED,SAAAM,UAAWC,IAAI,EAAG;MAEjBC,IAAA,CAAAC,eAAA,CAAAzB,SAAA,CAAA0B,SAAA,sBAAAb,IAAA,OAAiBU,IAAI;MAErBA,IAAI,CAACjB,KAAK,GAAG,IAAI,CAACA,KAAK;IAExB;EAAC;IAAAS,GAAA;IAAAC,KAAA,EAED,SAAAW,YAAaJ,IAAI,EAAG;MAEnBC,IAAA,CAAAC,eAAA,CAAAzB,SAAA,CAAA0B,SAAA,wBAAAb,IAAA,OAAmBU,IAAI;MAEvB,IAAI,CAACjB,KAAK,GAAGiB,IAAI,CAACjB,KAAK;IAExB;EAAC;EAAA,OAAAN,SAAA;AAAA,EAzCsBL,IAAI;AA6C5BK,SAAS,CAACU,gBAAgB,GAAG,iBAAiB;AAE9C,eAAeV,SAAS;AAExB,OAAO,IAAM4B,oBAAoB,GAAG/B,SAAS,CAAEG,SAAS,EAAEA,SAAS,CAACU,gBAAiB,CAAC;AAEtFd,YAAY,CAAE,WAAW,EAAEI,SAAU,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}