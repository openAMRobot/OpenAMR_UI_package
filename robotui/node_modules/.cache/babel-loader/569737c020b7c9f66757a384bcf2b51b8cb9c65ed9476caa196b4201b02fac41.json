{"ast":null,"code":"import _classCallCheck from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport Node, { addNodeClass } from '../core/Node.js';\nimport { maxMipLevel } from './MaxMipLevelNode.js';\nimport { nodeProxy } from '../shadernode/ShaderNode.js';\nvar SpecularMIPLevelNode = /*#__PURE__*/function (_Node) {\n  _inherits(SpecularMIPLevelNode, _Node);\n  var _super = _createSuper(SpecularMIPLevelNode);\n  function SpecularMIPLevelNode(textureNode) {\n    var _this;\n    var roughnessNode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    _classCallCheck(this, SpecularMIPLevelNode);\n    _this = _super.call(this, 'float');\n    _this.textureNode = textureNode;\n    _this.roughnessNode = roughnessNode;\n    return _this;\n  }\n  _createClass(SpecularMIPLevelNode, [{\n    key: \"setup\",\n    value: function setup() {\n      var textureNode = this.textureNode,\n        roughnessNode = this.roughnessNode;\n\n      // taken from here: http://casual-effects.blogspot.ca/2011/08/plausible-environment-lighting-in-two.html\n\n      var maxMIPLevelScalar = maxMipLevel(textureNode);\n      var sigma = roughnessNode.mul(roughnessNode).mul(Math.PI).div(roughnessNode.add(1.0));\n      var desiredMIPLevel = maxMIPLevelScalar.add(sigma.log2());\n      return desiredMIPLevel.clamp(0.0, maxMIPLevelScalar);\n    }\n  }]);\n  return SpecularMIPLevelNode;\n}(Node);\nexport default SpecularMIPLevelNode;\nexport var specularMIPLevel = nodeProxy(SpecularMIPLevelNode);\naddNodeClass('SpecularMIPLevelNode', SpecularMIPLevelNode);","map":{"version":3,"names":["Node","addNodeClass","maxMipLevel","nodeProxy","SpecularMIPLevelNode","_Node","_inherits","_super","_createSuper","textureNode","_this","roughnessNode","arguments","length","undefined","_classCallCheck","call","_createClass","key","value","setup","maxMIPLevelScalar","sigma","mul","Math","PI","div","add","desiredMIPLevel","log2","clamp","specularMIPLevel"],"sources":["/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/three/examples/jsm/nodes/utils/SpecularMIPLevelNode.js"],"sourcesContent":["import Node, { addNodeClass } from '../core/Node.js';\nimport { maxMipLevel } from './MaxMipLevelNode.js';\nimport { nodeProxy } from '../shadernode/ShaderNode.js';\n\nclass SpecularMIPLevelNode extends Node {\n\n\tconstructor( textureNode, roughnessNode = null ) {\n\n\t\tsuper( 'float' );\n\n\t\tthis.textureNode = textureNode;\n\t\tthis.roughnessNode = roughnessNode;\n\n\t}\n\n\tsetup() {\n\n\t\tconst { textureNode, roughnessNode } = this;\n\n\t\t// taken from here: http://casual-effects.blogspot.ca/2011/08/plausible-environment-lighting-in-two.html\n\n\t\tconst maxMIPLevelScalar = maxMipLevel( textureNode );\n\n\t\tconst sigma = roughnessNode.mul( roughnessNode ).mul( Math.PI ).div( roughnessNode.add( 1.0 ) );\n\t\tconst desiredMIPLevel = maxMIPLevelScalar.add( sigma.log2() );\n\n\t\treturn desiredMIPLevel.clamp( 0.0, maxMIPLevelScalar );\n\n\t}\n\n}\n\nexport default SpecularMIPLevelNode;\n\nexport const specularMIPLevel = nodeProxy( SpecularMIPLevelNode );\n\naddNodeClass( 'SpecularMIPLevelNode', SpecularMIPLevelNode );\n"],"mappings":";;;;AAAA,OAAOA,IAAI,IAAIC,YAAY,QAAQ,iBAAiB;AACpD,SAASC,WAAW,QAAQ,sBAAsB;AAClD,SAASC,SAAS,QAAQ,6BAA6B;AAAC,IAElDC,oBAAoB,0BAAAC,KAAA;EAAAC,SAAA,CAAAF,oBAAA,EAAAC,KAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,oBAAA;EAEzB,SAAAA,qBAAaK,WAAW,EAAyB;IAAA,IAAAC,KAAA;IAAA,IAAvBC,aAAa,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAI;IAAAG,eAAA,OAAAX,oBAAA;IAE7CM,KAAA,GAAAH,MAAA,CAAAS,IAAA,OAAO,OAAO;IAEdN,KAAA,CAAKD,WAAW,GAAGA,WAAW;IAC9BC,KAAA,CAAKC,aAAa,GAAGA,aAAa;IAAC,OAAAD,KAAA;EAEpC;EAACO,YAAA,CAAAb,oBAAA;IAAAc,GAAA;IAAAC,KAAA,EAED,SAAAC,MAAA,EAAQ;MAEP,IAAQX,WAAW,GAAoB,IAAI,CAAnCA,WAAW;QAAEE,aAAa,GAAK,IAAI,CAAtBA,aAAa;;MAElC;;MAEA,IAAMU,iBAAiB,GAAGnB,WAAW,CAAEO,WAAY,CAAC;MAEpD,IAAMa,KAAK,GAAGX,aAAa,CAACY,GAAG,CAAEZ,aAAc,CAAC,CAACY,GAAG,CAAEC,IAAI,CAACC,EAAG,CAAC,CAACC,GAAG,CAAEf,aAAa,CAACgB,GAAG,CAAE,GAAI,CAAE,CAAC;MAC/F,IAAMC,eAAe,GAAGP,iBAAiB,CAACM,GAAG,CAAEL,KAAK,CAACO,IAAI,CAAC,CAAE,CAAC;MAE7D,OAAOD,eAAe,CAACE,KAAK,CAAE,GAAG,EAAET,iBAAkB,CAAC;IAEvD;EAAC;EAAA,OAAAjB,oBAAA;AAAA,EAxBiCJ,IAAI;AA4BvC,eAAeI,oBAAoB;AAEnC,OAAO,IAAM2B,gBAAgB,GAAG5B,SAAS,CAAEC,oBAAqB,CAAC;AAEjEH,YAAY,CAAE,sBAAsB,EAAEG,oBAAqB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}