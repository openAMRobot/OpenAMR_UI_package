{"ast":null,"code":"import { tslFn } from '../shadernode/ShaderNode.js';\nexport var getDistanceAttenuation = tslFn(function (inputs) {\n  var lightDistance = inputs.lightDistance,\n    cutoffDistance = inputs.cutoffDistance,\n    decayExponent = inputs.decayExponent;\n\n  // based upon Frostbite 3 Moving to Physically-based Rendering\n  // page 32, equation 26: E[window1]\n  // https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n  var distanceFalloff = lightDistance.pow(decayExponent).max(0.01).reciprocal();\n  return cutoffDistance.greaterThan(0).cond(distanceFalloff.mul(lightDistance.div(cutoffDistance).pow4().oneMinus().clamp().pow2()), distanceFalloff);\n}); // validated","map":{"version":3,"names":["tslFn","getDistanceAttenuation","inputs","lightDistance","cutoffDistance","decayExponent","distanceFalloff","pow","max","reciprocal","greaterThan","cond","mul","div","pow4","oneMinus","clamp","pow2"],"sources":["/home/darkadius/ros2_ws/src/BotshareWIP/ROS2/robotui/node_modules/three/examples/jsm/nodes/lighting/LightUtils.js"],"sourcesContent":["import { tslFn } from '../shadernode/ShaderNode.js';\n\nexport const getDistanceAttenuation = tslFn( ( inputs ) => {\n\n\tconst { lightDistance, cutoffDistance, decayExponent } = inputs;\n\n\t// based upon Frostbite 3 Moving to Physically-based Rendering\n\t// page 32, equation 26: E[window1]\n\t// https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\tconst distanceFalloff = lightDistance.pow( decayExponent ).max( 0.01 ).reciprocal();\n\n\treturn cutoffDistance.greaterThan( 0 ).cond(\n\t\tdistanceFalloff.mul( lightDistance.div( cutoffDistance ).pow4().oneMinus().clamp().pow2() ),\n\t\tdistanceFalloff\n\t);\n\n} ); // validated\n"],"mappings":"AAAA,SAASA,KAAK,QAAQ,6BAA6B;AAEnD,OAAO,IAAMC,sBAAsB,GAAGD,KAAK,CAAE,UAAEE,MAAM,EAAM;EAE1D,IAAQC,aAAa,GAAoCD,MAAM,CAAvDC,aAAa;IAAEC,cAAc,GAAoBF,MAAM,CAAxCE,cAAc;IAAEC,aAAa,GAAKH,MAAM,CAAxBG,aAAa;;EAEpD;EACA;EACA;EACA,IAAMC,eAAe,GAAGH,aAAa,CAACI,GAAG,CAAEF,aAAc,CAAC,CAACG,GAAG,CAAE,IAAK,CAAC,CAACC,UAAU,CAAC,CAAC;EAEnF,OAAOL,cAAc,CAACM,WAAW,CAAE,CAAE,CAAC,CAACC,IAAI,CAC1CL,eAAe,CAACM,GAAG,CAAET,aAAa,CAACU,GAAG,CAAET,cAAe,CAAC,CAACU,IAAI,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAACC,IAAI,CAAC,CAAE,CAAC,EAC3FX,eACD,CAAC;AAEF,CAAE,CAAC,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}